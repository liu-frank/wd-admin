webpackJsonp([4],{8:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(15),n=l(r);n.default.Header=r.BoxHeader,n.default.Body=r.BoxBody,n.default.Footer=r.BoxFooter,t.default=n.default},9:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.inputTypes={TEXT:"INPUT_TYPE_TEXT",NUMBER:"INPUT_TYPE_NUMBER",EMAIL:"INPUT_TYPE_EMAIL",CHECKBOX:"INPUT_TYPE_CHECKBOX",PHONE:"INPUT_TYPE_PHONE",SELECT:"INPUT_TYPE_SELECT",MULTISELECT:"INPUT_TYPE_MULTISELECT",TREESELECT:"INPUT_TYPE_TREESELECT",DATE:"INPUT_TYPE_DATE",DATERANGE:"INPUT_TYPE_DATERANGE"}},15:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BoxFooter=t.BoxBody=t.BoxHeader=void 0;var r=a(2),n=l(r),u=function(e){var t=e.children;return n.default.createElement("div",{className:"box"},t)};t.BoxHeader=function(e){var t=e.children;return n.default.createElement("div",{className:"box-header with-border"},t)},t.BoxBody=function(e){var t=e.children;return n.default.createElement("div",{className:"box-body"},t)},t.BoxFooter=function(e){var t=e.children;return n.default.createElement("div",{className:"box-footer"},t)};t.default=u},16:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),n=l(r),u=function(e){var t=e.children;return n.default.createElement("section",{className:"content"},t)};t.default=u},17:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(16),n=l(r);t.default=n.default},22:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(29),n=l(r),u=a(3),o=l(u),s=a(25),c=l(s),i=a(4),d=l(i),f=a(5),p=l(f),m=a(7),v=l(m),y=a(6),E=l(y),h=a(2),g=l(h),b=a(1),T=l(b),_=a(8),N=l(_),C=a(9),S=g.default.createElement("div",{className:"row text-center"},"没有数据"),k=function(e){function t(e){var a;(0,d.default)(this,t);var l=(0,v.default)(this,(a=t.__proto__||(0,o.default)(t)).call.apply(a,[this].concat((0,c.default)(e))));return l.state={selection:[]},l}return(0,E.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.data.list!==e.data.list&&this.setState({selection:[]})}},{key:"toggleSelection",value:function(e,t){t.target.checked?this.state.selection.push(e):this.state.selection.splice(this.state.selection.indexOf(e),1),this.forceUpdate()}},{key:"selectAll",value:function(){for(var e=[],t=0;t<this.props.data.list.length;t++)e.push(t);this.setState({selection:e})}},{key:"clearAll",value:function(){this.setState({selection:[]})}},{key:"onButtonClick",value:function(e,t){e.confirm?this.props.onConfirm({message:e.confirm,onConfirm:e.callback.bind(null,t)}):e.callback(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,l=t.operations,r=t.groupOps;return g.default.createElement(N.default.Body,null,g.default.createElement("div",{className:"row",style:{overflow:"auto"}},g.default.createElement("table",{ref:"table",style:{margin:10,width:"98%",minWidth:800},className:"table table-bordered table-hover text-center table-responsive table-striped"},g.default.createElement("thead",null,g.default.createElement("tr",null,r&&g.default.createElement("th",{style:{width:50}},"选择"),a.tableFields.map(function(e,t){var l=a.meta[e]||{};return g.default.createElement("th",{style:{verticalAlign:"middle",width:l.width||"auto"},key:t},l.label)}),l&&g.default.createElement("th",{style:{verticalAlign:"middle",width:a.meta.operations?a.meta.operations.width||"auto":"auto"}},"操作"))),g.default.createElement("tbody",null,a.list.map(function(t,u){return g.default.createElement("tr",{key:u},r&&g.default.createElement("td",null,g.default.createElement("input",{type:"checkbox",checked:e.state.selection.indexOf(u)>=0,onChange:e.toggleSelection.bind(e,u)})),a.tableFields.map(function(e,l){var r=a.meta[e];if(r.display)return g.default.createElement("td",{key:l},r.display(t));if(r.type===C.inputTypes.SELECT){var u=r.options.find(function(a){return a.value===t[e]+""});return g.default.createElement("td",{key:l},u&&u.label)}if(r.type===C.inputTypes.MULTISELECT){var o="";return""!==t[e]&&(o=t[e].split(",").map(function(e){var t=r.options.find(function(t){return t.value+""===e});return t?t.label:""}).join(",")),g.default.createElement("td",{key:l},o)}if(r.type===C.inputTypes.TREESELECT){var s=t[e].split(",").map(function(e){var t=!0,a=!1,l=void 0;try{for(var u,o=(0,n.default)(r.options);!(t=(u=o.next()).done);t=!0){var s=u.value,c=!0,i=!1,d=void 0;try{for(var f,p=(0,n.default)(s.options);!(c=(f=p.next()).done);c=!0){var m=f.value;if(m.resourceID===e)return m.label;var v=!0,y=!1,E=void 0;try{for(var h,g=(0,n.default)(m.options);!(v=(h=g.next()).done);v=!0){var b=h.value;if(b.resourceId===e)return b.label}}catch(e){y=!0,E=e}finally{try{!v&&g.return&&g.return()}finally{if(y)throw E}}}}catch(e){i=!0,d=e}finally{try{!c&&p.return&&p.return()}finally{if(i)throw d}}}}catch(e){a=!0,l=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw l}}}).join(", ");return g.default.createElement("td",{key:l},s)}return r.type===C.inputTypes.DATE?t[e]?g.default.createElement("td",{key:l},(0,T.default)(t[e]).format("YYYY-MM-DD HH:mm:ss")):g.default.createElement("td",{key:l}):g.default.createElement("td",{key:l},t[e])}),l&&g.default.createElement("td",null,l.map(function(a,l){return g.default.createElement("a",{key:l,style:0===l?{cursor:"pointer"}:{marginLeft:"10px",cursor:"pointer"},onClick:e.onButtonClick.bind(e,a,t)},a.name)})))})))),g.default.createElement("div",{className:"row"},r&&g.default.createElement("label",{style:{float:"left",marginLeft:"30px",fontWeight:"normal"}},g.default.createElement("input",{type:"checkbox",style:{marginRight:"5px"},checked:this.state.selection.length===this.props.data.list.length,onChange:function(t){t.target.checked?e.selectAll():e.clearAll()}}),"全选"),r&&r.map(function(t,a){return g.default.createElement("div",{className:"col-sm-1 text-center",key:a},g.default.createElement("button",{className:"btn btn-xs btn-"+t.icon,disabled:0===e.state.selection.length,onClick:e.onButtonClick.bind(e,t,e.state.selection.map(function(t){return e.props.data.list[t]}))},t.name))})),0===a.list.length&&S)}}]),t}(g.default.Component);t.default=k},23:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(22),n=l(r);t.default=n.default},24:function(e,t,a){e.exports={default:a(26),__esModule:!0}},25:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(24),n=l(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return(0,n.default)(e)}},26:function(e,t,a){a(41),a(28),e.exports=a(14).Array.from},27:function(e,t,a){"use strict";var l=a(33),r=a(50);e.exports=function(e,t,a){t in e?l.f(e,t,r(0,a)):e[t]=a}},28:function(e,t,a){"use strict";var l=a(47),r=a(32),n=a(51),u=a(61),o=a(60),s=a(56),c=a(27),i=a(57);r(r.S+r.F*!a(62)(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,r,d,f=n(e),p="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,y=void 0!==v,E=0,h=i(f);if(y&&(v=l(v,m>2?arguments[2]:void 0,2)),void 0==h||p==Array&&o(h))for(t=s(f.length),a=new p(t);t>E;E++)c(a,E,y?v(f[E],E):f[E]);else for(d=h.call(f),a=new p;!(r=d.next()).done;E++)c(a,E,y?u(d,v,[r.value,E],!0):r.value);return a.length=E,a}})},35:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),n=l(r),u=a(4),o=l(u),s=a(5),c=l(s),i=a(7),d=l(i),f=a(6),p=l(f),m=a(2),v=l(m),y=a(8),E=l(y),h=a(37),g=l(h),b=v.default.createElement("i",{className:"fa fa-fast-backward"}),T=v.default.createElement("i",{className:"fa fa-backward"}),_=v.default.createElement("i",{className:"fa fa-forward"}),N=v.default.createElement("i",{className:"fa fa-fast-forward"}),C=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"nextPage",value:function(){var e=this.calParams(this.props.data),t=e.currentPage,a=e.totalPage;t<a-1&&this.props.onSwitch(t+1)}},{key:"prevPage",value:function(){var e=this.calParams(this.props.data),t=e.currentPage;t>0&&this.props.onSwitch(t-1)}},{key:"firstPage",value:function(){var e=this.calParams(this.props.data),t=e.currentPage;0!==t&&this.props.onSwitch(0)}},{key:"lastPage",value:function(){var e=this.calParams(this.props.data),t=e.currentPage,a=e.totalPage;t!==a-1&&this.props.onSwitch(a-1)}},{key:"switchPage",value:function(e){var t=this.calParams(this.props.data),a=t.currentPage;a!==e&&this.props.onSwitch(e)}},{key:"calParams",value:function(e){var t=e.total,a=e.currentPage,l=e.pageSize,r=a*l+1,n=(e.currentPage+1)*e.pageSize,u=t%l?parseInt(t/l,10)+1:parseInt(t/l,10),o=n>t?t:n;return{start:r,end:o,total:t,currentPage:a,pageSize:l,totalPage:u}}},{key:"calPaginators",value:function(e,t){var a=[];if(e>9)if(t<5)for(var l=0;l<9;l++)a.push(l);else if(t>e-5)for(var r=0;r<9;r++)a.push(e-9+r);else for(var n=0;n<9;n++)a.push(t-4+n);else for(var u=0;u<e;u++)a.push(u);return a}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.calParams(t),l=a.start,r=a.end,n=a.total,u=a.currentPage,o=a.totalPage,s=this.calPaginators(o,u);return 0===n?null:v.default.createElement(E.default.Footer,null,v.default.createElement("div",{className:"row",style:{lineHeight:"35px"}},v.default.createElement("div",{className:"col-sm-5"},"当前显示 ",l," 到 ",r," 条，共 ",n," 条"),v.default.createElement("div",{className:"col-sm-7"},v.default.createElement("ul",{className:"pagination pagination-sm pull-right",style:{margin:0}},o>1?v.default.createElement("li",{className:0===u&&"disabled",onClick:this.firstPage.bind(this)},v.default.createElement("a",{className:g.default.paginator},b)):null,o>1?v.default.createElement("li",{className:0===u&&"disabled",onClick:this.prevPage.bind(this)},v.default.createElement("a",{className:g.default.paginator},T)):null,s.map(function(t,a){return v.default.createElement("li",{key:a,className:u===t&&"active",onClick:e.switchPage.bind(e,t)},v.default.createElement("a",{className:g.default.paginator},t+1))}),o>1?v.default.createElement("li",{className:u===o-1&&"disabled",onClick:this.nextPage.bind(this)},v.default.createElement("a",{className:g.default.paginator},_)):null,o>1?v.default.createElement("li",{className:u===o-1&&"disabled",onClick:this.lastPage.bind(this)},v.default.createElement("a",{className:g.default.paginator},N)):null))))}}]),t}(v.default.Component);t.default=C},36:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(35),n=l(r);t.default=n.default},37:function(e,t){e.exports={paginator:"DataPaginator__paginator___1cn8c"}},42:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(68),n=l(r),u=a(3),o=l(u),s=a(4),c=l(s),i=a(5),d=l(i),f=a(7),p=l(f),m=a(6),v=l(m),y=a(2),E=l(y),h=a(1),g=l(h),b=a(54),T=l(b),_=a(13),N=a(9),C=E.default.createElement("p",{className:"form-control"},"点击选择日期"),S=function(e){function t(){return(0,c.default)(this,t),(0,p.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"changeItem",value:function(e,t){this.props.onUpdate({field:e,value:t.target.value})}},{key:"changeOption",value:function(e,t,a,l){var r=this.props.item,n=r[e]?r[e].split(","):[];l.target.checked?(n.indexOf(t.value+"")===-1&&n.push(t.value+""),a&&n.indexOf(a.value+"")===-1&&n.push(a.value),t.options&&t.options.forEach(function(e){n.indexOf(e.value+"")===-1&&n.push(e.value+"")})):t.options?(n.splice(n.indexOf(t.value+""),1),t.options.forEach(function(e){n.indexOf(e.value+"")>-1&&n.splice(n.indexOf(e.value+""),1)})):n.splice(n.indexOf(t.value+""),1),this.props.onUpdate({field:e,value:n.join(",")})}},{key:"setDate",value:function(e,t,a){this.props.onUpdate({field:e.startField,value:a.startDate.format("YYYY-MM-DD")}),this.props.onUpdate({field:e.endField,value:a.endDate.format("YYYY-MM-DD")})}},{key:"clearDate",value:function(e,t,a){console.log("cancel clicked"),this.props.onUpdate({field:e.startField,value:null}),this.props.onUpdate({field:e.endField,value:null}),a.startDate=(0,g.default)(),a.endDate=(0,g.default)()}},{key:"inputComponent",value:function(e,t){var a=this,l=this.props,r=l.item,u=l.showType,o=void 0===u?_.showTypes.CREATE:u,s={applyLabel:"确定",cancelLabel:"取消",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],format:"YYYY-MM-DD",separator:" - ",fromLabel:"起始",toLabel:"终止",customRangeLabel:"自定义",weekLabel:"W",firstDay:1},c=function(){switch(e.type){case N.inputTypes.DATERANGE:return{v:E.default.createElement(T.default,{locale:s,maxDate:e.maxDate||null,onApply:a.setDate.bind(a,e),onCancel:a.clearDate.bind(a,e)},r[e.startField]?E.default.createElement("p",{className:"form-control"},r[e.startField]," ~ ",r[e.endField]):C)};case N.inputTypes.TREESELECT:var l=r[t]?r[t].split(","):[];return{v:E.default.createElement("div",{className:"box-body"},e.options.map(function(e,r){return E.default.createElement("div",{key:r},E.default.createElement("div",{className:"box-header"},E.default.createElement("label",null,E.default.createElement("input",{type:"checkbox",disabled:o===_.showTypes.VIEW,checked:l.indexOf(e.value+"")>=0,onChange:a.changeOption.bind(a,t,e,null)})," ",e.label)),e.options.length>0?E.default.createElement("div",{className:"box-body checkbox"},e.options.map(function(r,n){return E.default.createElement("label",{className:"col-sm-4",key:n},E.default.createElement("input",{type:"checkbox",disabled:o===_.showTypes.VIEW,checked:l.indexOf(r.value+"")>=0,onChange:a.changeOption.bind(a,t,r,e)}),r.label)})):null)}))};case N.inputTypes.SELECT:return{v:E.default.createElement("select",{className:"form-control",disabled:o===_.showTypes.VIEW||o===_.showTypes.UPDATE&&e.readOnly,id:t,value:r[t]||(e.options[0]?e.options[0].value:""),onChange:a.changeItem.bind(a,t)},e.options.map(function(e,t){return E.default.createElement("option",{key:t,value:e.value},e.label)}))};case N.inputTypes.MULTISELECT:console.log("item[field]",r[t]);var n=r[t]?r[t].split(","):[];return{v:E.default.createElement("div",{className:"row"},e.options.map(function(e,l){return E.default.createElement("div",{key:l,className:"checkbox col-sm-4"},E.default.createElement("label",null,E.default.createElement("input",{type:"checkbox",disabled:o===_.showTypes.VIEW,checked:n.indexOf(e.value+"")>=0,onChange:a.changeOption.bind(a,t,e,null)}),e.label))}))};case N.inputTypes.CHECKBOX:return{v:E.default.createElement("div",{className:"checkbox"},E.default.createElement("label",null,E.default.createElement("input",{type:"checkbox",id:t,checked:e.value,onChange:a.changeItem.bind(a,e)}),e.name))};case N.inputTypes.PHONE:return{v:E.default.createElement("input",{type:"text",className:"form-control",id:t,required:e.required,disabled:o===_.showTypes.VIEW,value:r[t]||"",onChange:a.changeItem.bind(a,t),placeholder:e.label})};case N.inputTypes.EMAIL:return{v:E.default.createElement("input",{type:"email",className:"form-control",id:t,required:e.required,maxLength:e.maxLength,disabled:o===_.showTypes.VIEW,value:r[t]||"",onChange:a.changeItem.bind(a,t),placeholder:e.label})};case N.inputTypes.TEXT:default:return{v:E.default.createElement("input",{type:"text",className:"form-control",id:t,required:e.required,maxLength:e.maxLength,disabled:o===_.showTypes.VIEW,value:r[t]||"",onChange:a.changeItem.bind(a,t),placeholder:e.label})}}}();if("object"===("undefined"==typeof c?"undefined":(0,n.default)(c)))return c.v}},{key:"render",value:function(){var e=this,t=this.props,a=t.fields,l=void 0===a?[]:a,r=t.meta,n=(t.item,t.onUpdate,t.columns),u="";switch(n){case 2:u="col-sm-6";break;case 3:u="col-sm-4";break;case 4:u="col-sm-3"}return E.default.createElement("div",{className:"box-body"},l.map(function(t,a){var l=r[t];return 0===n?E.default.createElement("div",{className:"form-group",key:a},E.default.createElement("label",{className:"control-label col-sm-2",htmlFor:t},l.label),E.default.createElement("div",{className:"col-sm-10"},e.inputComponent(l,t))):E.default.createElement("div",{className:"form-group "+u,key:a},E.default.createElement("label",{htmlFor:t},l.label),e.inputComponent(l,t))}),this.props.children)}}]),t}(E.default.Component);t.default=S},43:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(42),n=l(r);t.default=n.default},58:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),n=l(r),u=a(4),o=l(u),s=a(5),c=l(s),i=a(7),d=l(i),f=a(6),p=l(f),m=a(2),v=l(m),y=a(8),E=l(y),h=a(43),g=l(h),b=v.default.createElement("label",null),T=v.default.createElement("label",null),_=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"changeFilter",value:function(e,t){this.props.onChange({field:e,value:t.target.value})}},{key:"render",value:function(){var e=this.props,t=e.data,a=t.meta,l=t.filterFields,r=t.currentFilter,n=e.onCreate,u=e.onFilter,o=e.onChange;return v.default.createElement(E.default.Header,null,v.default.createElement(g.default,{columns:4,fields:l,meta:a,item:r,onUpdate:o},v.default.createElement("div",{className:"row col-sm-12"},u&&v.default.createElement("div",{className:"col-sm-1"},b,v.default.createElement("input",{type:"button",style:{marginTop:"5px"},className:"btn btn-info ",onClick:u,value:this.props.filterText||"查询"})),n&&v.default.createElement("div",{className:"col-sm-1"},T,v.default.createElement("input",{type:"button",style:{marginTop:"5px"},className:"btn btn-primary",onClick:n,value:this.props.createText||"新增"})))))}}]),t}(v.default.Component);t.default=_},59:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(58),n=l(r);t.default=n.default},101:function(e,t,a){e.exports={default:a(103),__esModule:!0}},102:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(101),n=l(r),u=a(29),o=l(u);t.default=function(){function e(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var u,s=(0,o.default)(e);!(l=(u=s.next()).done)&&(a.push(u.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},103:function(e,t,a){a(95),a(41),e.exports=a(106)},106:function(e,t,a){var l=a(104),r=a(40)("iterator"),n=a(75);e.exports=a(14).isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||n.hasOwnProperty(l(t))}},133:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1],a=ee[t.type];return a?a(e,t):e}Object.defineProperty(t,"__esModule",{value:!0}),t.resetItem=t.updateLevel=t.updateResource=t.updateItem=t.updateFilter=t.switchPageStart=t.switchPage=t.deleteData=t.updateData=t.createData=t.queryChangeUpload=t.queryRecource=t.queryUpdate=t.queryData=t.converter=void 0;var n,u=a(30),o=l(u),s=a(20),c=l(s),i=a(102),d=l(i),f=a(46),p=l(f);t.default=r;var m=a(2),v=(l(m),a(39)),y=l(v),E=a(49),h=l(E),g=a(9),b={aas:"权限管理平台",ams:"统一运营平台",upp:"统一支付平台"},T=(t.converter={systemMap:b},{id:{label:"资源ID"},name:{label:"显示名称"},systemName:{label:"所属系统"},systemType:{label:"资源类型"},LinkURL:{label:"LinkURL"},recourseType:{label:"资源层级"},recourseStatus:{label:"资源状态"},recourseName:{label:"资源名称"},resource:{label:"资源类型",type:g.inputTypes.SELECT,options:[{label:"全部",value:""}]},showname:{label:"显示名称"},system:{label:"所属系统",type:g.inputTypes.SELECT,options:[]}}),_={meta:T,filterFields:["system","resource","recourseName","showname"],tableFields:["id","name","systemName","systemType","LinkURL","recourseType","recourseStatus"],list:[],total:0,pageSize:20,currentPage:0,currentItem:{},currentFilter:{},checkStatus:!1},N="QUERY_STATUS_BATCH",C="QUERY_STATUS_BATCH_SUCCESS",S="CREATE_STATUS_BATCH",k="CREATE_STATUS_BATCH_SUCCESS",P="UPDATE_STATUS_BATCH",x="UPDATE_STATUS_BATCH_SUCCESS",A="DELETE_STATUS_BATCH",D="DELETE_STATUS_BATCH_SUCCESS",I="SYSTEM_SUCCESS",L="RECOURCE_SUCCESS",U="UPDATE_STATUS_BATCH_FILTER",w="UPDATE_STATUS_BATCH_ITEM",M="RESET_STATUS_BATCH_ITEM",O="SWITCH_STATUS_BATCH_PAGE",R="UPDATE_RESOURCE",B="UPDATE_LEVEL",F="RESULT_START",H="RESULT_SUCCESS",Y=function(){return{type:N}},j=function(e){return{type:C,payload:e}},q=function(){return{type:S}},W=function(){return{type:k}},V=function(e){return{type:L,data:e}},X=function(){return{type:P}},z=function(){return{type:x}},G=function(){return{type:A}},K=function(){return{type:D}},Q=function(){return{type:F}},J=function(e){return{type:H,message:e}},Z=t.queryData=function(e){return function(t){t(Y());var a=(0,h.default)(y.default.ams+"/aas/v1/resource/detail/query",{method:"POST",jsonData:{resourceID:e}}),l=(0,h.default)(y.default.ams+"/aas/v1/common/codetable/query",{method:"POST",jsonData:{codeType:"resourceType"}});return p.default.all([a,l]).then(function(e){var a=(0,d.default)(e,2),l=a[0],r=a[1];t(j({currentItem:{infoList:l.appResourceDTO,levelA:l.appResourceDTO.levelStructure?l.appResourceDTO.levelStructure.split(".")[0]:"",levelB:l.appResourceDTO.levelStructure?l.appResourceDTO.levelStructure.split(".")[1]:"",levelC:l.appResourceDTO.levelStructure?l.appResourceDTO.levelStructure.split(".")[2]:"",systemList:r.codeTableList}}))})}},$=(t.queryUpdate=function(e,t){return function(a,l){a(Q()),(0,h.default)(y.default.ams+"/aas/v1/resource/modify",{method:"POST",jsonData:{resourceID:e,resourceType:t.infoList.resourceType,appID:t.infoList.appID,resourceDisplayName:t.infoList.resourceDisplayName,resourceName:t.infoList.resourceName,linkURL:t.infoList.linkURL,levelStructure:t.levelA&&t.levelB&&t.levelC&&"menu"==t.infoList.resourceType?t.levelA+"."+t.levelB+"."+t.levelC:"",description:t.infoList.description,status:t.infoList.status}}).then(function(e){var t=e.respHeader.resMessageExt;t||(t=e.respHeader.respMessage||""),a(J(t))})}},t.queryRecource=function(){return function(e,t){e(Y()),(0,h.default)(y.default.ams+"/aas/v1/common/codetable/query",{method:"POST",jsonData:{codeType:"resourceType"}}).then(function(t){var a=[],l=new Array;l.label="全部",l.value="",a.push(l),t.codeTableList.map(function(e,t){var l=new Array;l.label=e.codeDesc,l.value=e.code,a.push(l)}),e(V(a))})}},t.queryChangeUpload=function(){return function(e,t){e(Y()),(0,h.default)(y.default.ams+"/aas/v1/resource/app/list/query",{method:"POST"}).then(function(e){})}},t.createData=function(){return function(e,t){return e(q()),new p.default(function(t){setTimeout(function(){e(W()),t()},1e3)})}},t.updateData=function(){return function(e,t){return e(X()),new p.default(function(t){setTimeout(function(){e(z()),t()},1e3)})}},t.deleteData=function(){return function(e,t){return e(G()),new p.default(function(t){setTimeout(function(){e(K()),t()},1e3)})}},t.switchPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,a){t($(e)),setTimeout(function(){t(Z())},0)}},t.switchPageStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:O,payload:e}}),ee=(t.updateFilter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:U,payload:e}},t.updateItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:w,payload:e}},t.updateResource=function(e,t){return{type:R,data:{id:t,value:e}}},t.updateLevel=function(e,t){return{type:B,data:{id:t,value:e}}},t.resetItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:M,payload:e}},n={},(0,o.default)(n,C,function(e,t){return(0,c.default)({},e,t.payload)}),(0,o.default)(n,S,function(e,t){return(0,c.default)({},e,{success:!0})}),(0,o.default)(n,k,function(e,t){return(0,c.default)({},e,{success:!0})}),(0,o.default)(n,O,function(e,t){return(0,c.default)({},e,{currentPage:t.payload})}),(0,o.default)(n,U,function(e,t){var a=(0,c.default)({},e.currentFilter);return a[t.payload.field]=t.payload.value,(0,c.default)({},e,{currentFilter:a})}),(0,o.default)(n,w,function(e,t){var a=(0,c.default)({},e.currentItem);return a[t.payload.field]=t.payload.value,(0,c.default)({},e,{currentItem:a})}),(0,o.default)(n,I,function(e,t){var a=(0,c.default)({},e.meta);return a.system.options=t.data,(0,c.default)({},e,{meta:a})}),(0,o.default)(n,L,function(e,t){var a=(0,c.default)({},e.meta);return a.resource.options=t.data,(0,c.default)({},e,{meta:a})}),(0,o.default)(n,B,function(e,t){var a=(0,c.default)({},e.currentItem);return a[t.data.id]=t.data.value,(0,c.default)({},e,{currentItem:a})}),(0,o.default)(n,R,function(e,t){var a=(0,c.default)({},e.currentItem);return a.infoList[t.data.id]=t.data.value,(0,c.default)({},e,{currentItem:a})}),(0,o.default)(n,F,function(e,t){return(0,c.default)({},e,{checkStatus:!1})}),(0,o.default)(n,H,function(e,t){return(0,c.default)({},e,{checkStatus:!0,message:t.message})}),(0,o.default)(n,M,function(e,t){return(0,c.default)({},e,{currentItem:t.payload,success:!1})}),n)},397:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),n=l(r),u=a(4),o=l(u),s=a(5),c=l(s),i=a(7),d=l(i),f=a(6),p=l(f),m=a(2),v=l(m),y=a(64),E=(l(y),a(17)),h=l(E),g=a(8),b=l(g),T=a(59),_=(l(T),a(23)),N=(l(_),a(36)),C=(l(N),a(39)),S=(l(C),a(133)),k=a(45),P=v.default.createElement("option",{value:""},"全部"),x=v.default.createElement("option",{value:"0"},"可用"),A=v.default.createElement("option",{value:"2"},"停用"),D=v.default.createElement("div",null),I=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"UpdateRecource",value:function(){this.props.queryUpdate(this.props.location.query.resourceID,this.props.data.currentItem)}},{key:"componentWillMount",value:function(){this.props.queryData(this.props.location.query.resourceID)}},{key:"componentWillReceiveProps",value:function(e){!this.props.data.checkStatus&&e.data.checkStatus&&e.data.message&&this.props.showConfirm({title:"提示",message:"<div style='text-align:center'><strong>"+e.data.message+"</strong></div>",showCancel:!1})}},{key:"render",value:function(){var e=this,t=(0,k.getResource)(this.props,"/modify"),a=this.props.data.currentItem.infoList,l=this.props.data.currentItem.systemList;return a&&l?v.default.createElement(h.default,null,v.default.createElement(b.default,null,v.default.createElement(b.default.Body,null,v.default.createElement("div",{className:"clearfix"},v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"资源ID")),v.default.createElement("div",{className:"col-sm-3 form-group"},v.default.createElement("p",{style:{background:"#f1f2f4"},className:"form-control"},a.resourceID))),v.default.createElement("div",{className:"clearfix"},v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"所属系统")),v.default.createElement("div",{className:"col-sm-3 form-group"},v.default.createElement("p",{style:{background:"#f1f2f4"},className:"form-control"},S.converter.systemMap[a.appID])),v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"显示名称")),v.default.createElement("div",{className:"col-sm-3 form-group"},v.default.createElement("input",{type:"text",onChange:function(t){return e.props.updateResource(t.target.value,"resourceDisplayName")},className:"form-control",value:a.resourceDisplayName||""}))),v.default.createElement("div",{className:"clearfix"},v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"资源类型")),v.default.createElement("div",{className:"col-sm-3 form-group"},v.default.createElement("select",{className:"form-control",onChange:function(t){return e.props.updateResource(t.target.value,"resourceType")},value:a.resourceType||""},P,l.map(function(e,t){return v.default.createElement("option",{key:t,value:e.code},e.codeDesc)}))),v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"资源名称")),v.default.createElement("div",{className:"col-sm-3 form-group"},v.default.createElement("input",{type:"text",onChange:function(t){return e.props.updateResource(t.target.value,"resourceName")},className:"form-control",id:"showname",value:a.resourceName||""}))),v.default.createElement("div",{className:"clearfix"},v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"LinkURL")),v.default.createElement("div",{className:"col-sm-8 form-group"},v.default.createElement("input",{type:"text",onChange:function(t){return e.props.updateResource(t.target.value,"linkURL")},className:"form-control",id:"showname",value:a.linkURL||""}))),"menu"==a.resourceType&&v.default.createElement("div",{className:"clearfix"},v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"层级")),v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("input",{type:"number",min:"0",maxlength:"3",className:"form-control",onChange:function(t){return e.props.updateLevel(t.target.value,"levelA")},value:this.props.data.currentItem.levelA?this.props.data.currentItem.levelA:""})),v.default.createElement("div",{className:"col-sm-1 form-group text-center"},v.default.createElement("label",{style:{color:"#646464"}},".")),v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("input",{type:"number",min:"0",maxlength:"3",className:"form-control",onChange:function(t){return e.props.updateLevel(t.target.value,"levelB")},value:this.props.data.currentItem.levelB?this.props.data.currentItem.levelB:""})),v.default.createElement("div",{className:"col-sm-1 form-group text-center"},v.default.createElement("label",{style:{color:"#646464"}},".")),v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("input",{type:"number",min:"0",maxlength:"3",className:"form-control",onChange:function(t){return e.props.updateLevel(t.target.value,"levelC")},value:this.props.data.currentItem.levelC?this.props.data.currentItem.levelC:""}))),v.default.createElement("div",{className:"clearfix"},v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"资源描述")),v.default.createElement("div",{className:"col-sm-8 form-group"},v.default.createElement("textarea",{className:"form-control",onChange:function(t){return e.props.updateResource(t.target.value,"description")},value:a.description||""}))),v.default.createElement("div",{className:"clearfix"},v.default.createElement("div",{className:"col-sm-1 form-group"},v.default.createElement("label",{style:{color:"#646464"}},"资源状态")),v.default.createElement("div",{className:"col-sm-3 form-group"},v.default.createElement("select",{className:"form-control",onChange:function(t){return e.props.updateResource(t.target.value,"status")},value:a.status||""},x,A))),v.default.createElement("div",{
className:"col-sm-offset-4 col-sm-3"},t&&v.default.createElement("button",{onClick:this.UpdateRecource.bind(this),className:"btn btn-primary btn-block"},t.resourceDisplayName||""))))):D}}]),t}(v.default.Component);t.default=I},398:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(31),u=r(n),o=a(34),s=a(19),c=l(s),i=a(13),d=l(i),f=a(133),p=l(f),m=a(397),v=r(m),y=(0,u.default)({},c,d,p),E=function(e){return{data:e["resource-detail"],resources:e.administrator.resources,popups:e.popups}};t.default=(0,o.connect)(E,y)(v.default)}});