{"version":3,"sources":["ffan/gateway-refund-detail.js"],"names":["META","PWID","label","vipMobile","orderNum","oldOrderNum","oldPaySeq","refundSeq","refundTime","paySource","payChannel","payType","refundType","refundStatus","orderAmount","realPayAmount","payBenefit","refundAmount","INFO_FIELDS","submitData","item","etag","console","log","TABLE_FIELDS","FILTER_FIELDS","editData","window","location","href","id","queryData","options","WUI","getResource","ajax","url","jsonData","link","pageNum","currentPage","pageSize","then","resp","DataTable","create","$el","$","meta","operateTime","operateSource","operateDesc","orderStatus","remark","fields","list","refundLogList","DataPaginator","total","onSwitchPage","ready","ContentHeader","name","done","data","InfoTable","refundOrderDetail","init","system"],"mappings":"AAAA,YAEA,IAAIA,OACFC,MAAQC,MAAO,QACfC,WAAaD,MAAO,SACpBE,UAAYF,MAAO,QACnBG,aAAeH,MAAO,QACtBI,WAAaJ,MAAO,UACpBK,WAAaL,MAAO,SACpBM,YAAcN,MAAO,UACrBO,WAAaP,MAAO,QACpBQ,YAAcR,MAAO,QACrBS,SAAWT,MAAO,QAClBU,YAAcV,MAAO,QACrBW,cAAgBX,MAAO,QACvBY,aAAeZ,MAAO,YACtBa,eAAiBb,MAAO,aACxBc,YAAcd,MAAO,WACrBe,cAAgBf,MAAO,YAErBgB,cACA,OAAQ,cACR,WAAY,cAAe,YAAa,YACxC,aAAc,YAAa,aAAc,UACzC,aAAc,eAAgB,cAAe,aAC7C,gBAAiB,iBAGjBC,WAAa,SAAUC,EAAMC,GAiB/BC,QAAQC,IAAI,YAEVC,cAAgB,KAAM,OAAQ,QAAS,OACvCC,eAAiB,SAEjBC,SAAW,SAAUN,GAEvBO,OAAOC,SAASC,KAAO,4BAA8BT,EAAKU,IAGxDC,UAAY,SAAUC,GACLC,IAAIC,YAAY,QAEnCD,KAAIE,MACFC,IAAK,2CACLC,UACE9B,UAAY0B,IAAIK,OAAO/B,UACvBH,SAAU6B,IAAIK,OAAOR,GACrBS,QAASP,EAAQQ,YACjBC,SAAUT,EAAQS,YAEnBC,KAAK,SAAUC,GAChBV,IAAIW,UAAUC,QACZC,IAAKC,EAAE,eACPC,MACEC,aAAe/C,MAAO,QACtBgD,eAAiBhD,MAAO,OACxBiD,aAAejD,MAAO,QACtBkD,aAAelD,MAAO,QACtBmD,QAAUnD,MAAO,OAEnBoD,QAAS,cAAe,gBAAiB,cAAe,cAAe,UACvEC,KAAMZ,EAAKa,gBAGbvB,IAAIwB,cAAcZ,QAChBC,IAAKC,EAAE,mBACPP,YAAaR,EAAQQ,YACrBkB,MAAOf,EAAKe,MACZjB,SAAUT,EAAQS,SAClBkB,aAAc,SAAUnB,GACtBT,WACES,YAAaA,EACbC,SAAUT,EAAQS,gBAO5BR,KAAI2B,MAAQ,WACV3B,IAAI4B,cAAchB,QAChBC,IAAKC,EAAE,mBACPC,OACEc,KAAM,KACN1B,IAAK,SAEL0B,KAAM,UAGJA,KAAM,aACN1B,IAAI,6BAGJ0B,KAAM,aAKZ7B,IAAIE,MACFC,IAAK,0CACLC,UACE9B,UAAY0B,IAAIK,OAAO/B,UACvBH,SAAU6B,IAAIK,OAAOR,MAEtBiC,KAAK,SAAUpB,GACLA,EAAKqB,KACG/B,IAAIC,YAAY,QAEnCD,KAAIgC,UAAUpB,QACZC,IAAKC,EAAE,eACPC,KAAMhD,KACNgE,KAAMrB,EAAKuB,kBACXZ,OAAQpC,gBAKZa,WACES,YAAa,EACbC,SAAU,MAIdM,EAAE,WACAd,IAAIkC,MACFC,OAAQ","file":"ffan/gateway-refund-detail.js","sourcesContent":["'use strict';\n// Constants\nvar META = {\n  PWID: { label: 'PWID' },\n  vipMobile: { label: '会员手机号' },\n  orderNum: { label: '退款单号' },\n  oldOrderNum: { label: '原订单号' },\n  oldPaySeq: { label: '原支付流水号' },\n  refundSeq: { label: '退款流水号' },\n  refundTime: { label: '退款处理时间' },\n  paySource: { label: '支付来源' },\n  payChannel: { label: '支付渠道' },\n  payType: { label: '支付方式' },\n  refundType: { label: '退款类型' },\n  refundStatus: { label: '退款状态' },\n  orderAmount: { label: '原订单金额(元)' },\n  realPayAmount: { label: '实际支付金额(元)' },\n  payBenefit: { label: '支付优惠(元)' },\n  refundAmount: { label: '退款金额(元)' }\n};\nvar INFO_FIELDS = [\n  [ 'pwid', 'vipMobile' ],\n  [ 'orderNum', 'oldOrderNum', 'oldPaySeq', 'refundSeq',\n    'refundTime', 'paySource', 'payChannel', 'payType',\n    'refundType', 'refundStatus', 'orderAmount', 'payBenefit',\n    'realPayAmount', 'refundAmount']\n];\n// Callback Functions\nvar submitData = function (item, etag) {\n  //WUI.ajax({\n  //  url: '/sample/web/v1/users/' + WUI.link().id,\n  //  jsonData: $.extend(item, {\n  //    _etag: etag\n  //  })\n  //}).done(function () {\n  //  WUI.alert.create({\n  //    message: '成功',\n  //    success: true\n  //  });\n  //  /**\n  //  setTimeout(function() {\n  //    window.close();\n  //  }, 2000);\n  //  */\n  //});\n  console.log('2132131');\n};\nvar TABLE_FIELDS = ['id', 'name', 'email', 'age'];\nvar FILTER_FIELDS = ['phone'];\n// Callback functions\nvar editData = function (item) {\n  // window.open('allowance-detail.html?id=' + item.id);\n  window.location.href = 'allowance-detail.html?id=' + item.id;\n};\n\nvar queryData = function (options) {\n  var editResource = WUI.getResource('/edit');\n\n  WUI.ajax({\n    url: '/ams/v1/payment/query/refundOrderLogList',\n    jsonData: {\n      refundSeq : WUI.link().refundSeq,\n      orderNum: WUI.link().id,\n      pageNum: options.currentPage,\n      pageSize: options.pageSize\n    }\n  }).then(function (resp) {\n    WUI.DataTable.create({\n      $el: $('.data-table'),\n      meta: {\n        operateTime: { label: '操作时间' },\n        operateSource: { label: '操作方' },\n        operateDesc: { label: '操作行为' },\n        orderStatus: { label: '订单状态' },\n        remark: { label: '备注' }\n      },\n      fields: ['operateTime', 'operateSource', 'operateDesc', 'orderStatus', 'remark'],\n      list: resp.refundLogList\n    });\n\n    WUI.DataPaginator.create({\n      $el: $('.data-paginator'),\n      currentPage: options.currentPage,\n      total: resp.total,\n      pageSize: options.pageSize,\n      onSwitchPage: function (currentPage) {\n        queryData({\n          currentPage: currentPage,\n          pageSize: options.pageSize\n        });\n      }\n    });\n  });\n};\n// Load Page\nWUI.ready = function () {\n  WUI.ContentHeader.create({\n    $el: $('.content-header'),\n    meta: [{\n      name: '首页',\n      url: '/ams'\n    }, {\n      name: '飞凡通业务'\n    },\n      {\n        name: '支付网关退款订单查询',\n        url:'gateway-refund-list.html'\n      },\n      {\n        name: '退款订单详情'\n      }\n    ]\n  });\n\n  WUI.ajax({\n    url: '/ams/v1/payment/query/refundOrderDetail',\n    jsonData: {\n      refundSeq : WUI.link().refundSeq,\n      orderNum: WUI.link().id\n    }\n  }).done(function (resp) {\n    var user = resp.data;\n    var editResource = WUI.getResource('/edit');\n\n    WUI.InfoTable.create({\n      $el: $('.info-table'),\n      meta: META,\n      data: resp.refundOrderDetail,\n      fields: INFO_FIELDS\n    });\n\n  });\n\n  queryData({\n    currentPage: 0,\n    pageSize: 20\n  });\n};\n// Keep this function\n$(function () {\n  WUI.init({\n    system: 'ams'\n  });\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmZmFuL2dhdGV3YXktcmVmdW5kLWRldGFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vLyBDb25zdGFudHNcbnZhciBNRVRBID0ge1xuICBQV0lEOiB7IGxhYmVsOiAnUFdJRCcgfSxcbiAgdmlwTW9iaWxlOiB7IGxhYmVsOiAn5Lya5ZGY5omL5py65Y+3JyB9LFxuICBvcmRlck51bTogeyBsYWJlbDogJ+mAgOasvuWNleWPtycgfSxcbiAgb2xkT3JkZXJOdW06IHsgbGFiZWw6ICfljp/orqLljZXlj7cnIH0sXG4gIG9sZFBheVNlcTogeyBsYWJlbDogJ+WOn+aUr+S7mOa1geawtOWPtycgfSxcbiAgcmVmdW5kU2VxOiB7IGxhYmVsOiAn6YCA5qy+5rWB5rC05Y+3JyB9LFxuICByZWZ1bmRUaW1lOiB7IGxhYmVsOiAn6YCA5qy+5aSE55CG5pe26Ze0JyB9LFxuICBwYXlTb3VyY2U6IHsgbGFiZWw6ICfmlK/ku5jmnaXmupAnIH0sXG4gIHBheUNoYW5uZWw6IHsgbGFiZWw6ICfmlK/ku5jmuKDpgZMnIH0sXG4gIHBheVR5cGU6IHsgbGFiZWw6ICfmlK/ku5jmlrnlvI8nIH0sXG4gIHJlZnVuZFR5cGU6IHsgbGFiZWw6ICfpgIDmrL7nsbvlnosnIH0sXG4gIHJlZnVuZFN0YXR1czogeyBsYWJlbDogJ+mAgOasvueKtuaAgScgfSxcbiAgb3JkZXJBbW91bnQ6IHsgbGFiZWw6ICfljp/orqLljZXph5Hpop0o5YWDKScgfSxcbiAgcmVhbFBheUFtb3VudDogeyBsYWJlbDogJ+WunumZheaUr+S7mOmHkeminSjlhYMpJyB9LFxuICBwYXlCZW5lZml0OiB7IGxhYmVsOiAn5pSv5LuY5LyY5oOgKOWFgyknIH0sXG4gIHJlZnVuZEFtb3VudDogeyBsYWJlbDogJ+mAgOasvumHkeminSjlhYMpJyB9XG59O1xudmFyIElORk9fRklFTERTID0gW1xuICBbICdwd2lkJywgJ3ZpcE1vYmlsZScgXSxcbiAgWyAnb3JkZXJOdW0nLCAnb2xkT3JkZXJOdW0nLCAnb2xkUGF5U2VxJywgJ3JlZnVuZFNlcScsXG4gICAgJ3JlZnVuZFRpbWUnLCAncGF5U291cmNlJywgJ3BheUNoYW5uZWwnLCAncGF5VHlwZScsXG4gICAgJ3JlZnVuZFR5cGUnLCAncmVmdW5kU3RhdHVzJywgJ29yZGVyQW1vdW50JywgJ3BheUJlbmVmaXQnLFxuICAgICdyZWFsUGF5QW1vdW50JywgJ3JlZnVuZEFtb3VudCddXG5dO1xuLy8gQ2FsbGJhY2sgRnVuY3Rpb25zXG52YXIgc3VibWl0RGF0YSA9IGZ1bmN0aW9uIChpdGVtLCBldGFnKSB7XG4gIC8vV1VJLmFqYXgoe1xuICAvLyAgdXJsOiAnL3NhbXBsZS93ZWIvdjEvdXNlcnMvJyArIFdVSS5saW5rKCkuaWQsXG4gIC8vICBqc29uRGF0YTogJC5leHRlbmQoaXRlbSwge1xuICAvLyAgICBfZXRhZzogZXRhZ1xuICAvLyAgfSlcbiAgLy99KS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgLy8gIFdVSS5hbGVydC5jcmVhdGUoe1xuICAvLyAgICBtZXNzYWdlOiAn5oiQ5YqfJyxcbiAgLy8gICAgc3VjY2VzczogdHJ1ZVxuICAvLyAgfSk7XG4gIC8vICAvKipcbiAgLy8gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gIC8vICAgIHdpbmRvdy5jbG9zZSgpO1xuICAvLyAgfSwgMjAwMCk7XG4gIC8vICAqL1xuICAvL30pO1xuICBjb25zb2xlLmxvZygnMjEzMjEzMScpO1xufTtcbnZhciBUQUJMRV9GSUVMRFMgPSBbJ2lkJywgJ25hbWUnLCAnZW1haWwnLCAnYWdlJ107XG52YXIgRklMVEVSX0ZJRUxEUyA9IFsncGhvbmUnXTtcbi8vIENhbGxiYWNrIGZ1bmN0aW9uc1xudmFyIGVkaXREYXRhID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgLy8gd2luZG93Lm9wZW4oJ2FsbG93YW5jZS1kZXRhaWwuaHRtbD9pZD0nICsgaXRlbS5pZCk7XG4gIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2FsbG93YW5jZS1kZXRhaWwuaHRtbD9pZD0nICsgaXRlbS5pZDtcbn07XG5cbnZhciBxdWVyeURhdGEgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICB2YXIgZWRpdFJlc291cmNlID0gV1VJLmdldFJlc291cmNlKCcvZWRpdCcpO1xuXG4gIFdVSS5hamF4KHtcbiAgICB1cmw6ICcvYW1zL3YxL3BheW1lbnQvcXVlcnkvcmVmdW5kT3JkZXJMb2dMaXN0JyxcbiAgICBqc29uRGF0YToge1xuICAgICAgcmVmdW5kU2VxIDogV1VJLmxpbmsoKS5yZWZ1bmRTZXEsXG4gICAgICBvcmRlck51bTogV1VJLmxpbmsoKS5pZCxcbiAgICAgIHBhZ2VOdW06IG9wdGlvbnMuY3VycmVudFBhZ2UsXG4gICAgICBwYWdlU2l6ZTogb3B0aW9ucy5wYWdlU2l6ZVxuICAgIH1cbiAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIFdVSS5EYXRhVGFibGUuY3JlYXRlKHtcbiAgICAgICRlbDogJCgnLmRhdGEtdGFibGUnKSxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgb3BlcmF0ZVRpbWU6IHsgbGFiZWw6ICfmk43kvZzml7bpl7QnIH0sXG4gICAgICAgIG9wZXJhdGVTb3VyY2U6IHsgbGFiZWw6ICfmk43kvZzmlrknIH0sXG4gICAgICAgIG9wZXJhdGVEZXNjOiB7IGxhYmVsOiAn5pON5L2c6KGM5Li6JyB9LFxuICAgICAgICBvcmRlclN0YXR1czogeyBsYWJlbDogJ+iuouWNleeKtuaAgScgfSxcbiAgICAgICAgcmVtYXJrOiB7IGxhYmVsOiAn5aSH5rOoJyB9XG4gICAgICB9LFxuICAgICAgZmllbGRzOiBbJ29wZXJhdGVUaW1lJywgJ29wZXJhdGVTb3VyY2UnLCAnb3BlcmF0ZURlc2MnLCAnb3JkZXJTdGF0dXMnLCAncmVtYXJrJ10sXG4gICAgICBsaXN0OiByZXNwLnJlZnVuZExvZ0xpc3RcbiAgICB9KTtcblxuICAgIFdVSS5EYXRhUGFnaW5hdG9yLmNyZWF0ZSh7XG4gICAgICAkZWw6ICQoJy5kYXRhLXBhZ2luYXRvcicpLFxuICAgICAgY3VycmVudFBhZ2U6IG9wdGlvbnMuY3VycmVudFBhZ2UsXG4gICAgICB0b3RhbDogcmVzcC50b3RhbCxcbiAgICAgIHBhZ2VTaXplOiBvcHRpb25zLnBhZ2VTaXplLFxuICAgICAgb25Td2l0Y2hQYWdlOiBmdW5jdGlvbiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcXVlcnlEYXRhKHtcbiAgICAgICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsXG4gICAgICAgICAgcGFnZVNpemU6IG9wdGlvbnMucGFnZVNpemVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcbi8vIExvYWQgUGFnZVxuV1VJLnJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICBXVUkuQ29udGVudEhlYWRlci5jcmVhdGUoe1xuICAgICRlbDogJCgnLmNvbnRlbnQtaGVhZGVyJyksXG4gICAgbWV0YTogW3tcbiAgICAgIG5hbWU6ICfpppbpobUnLFxuICAgICAgdXJsOiAnL2FtcydcbiAgICB9LCB7XG4gICAgICBuYW1lOiAn6aOe5Yeh6YCa5Lia5YqhJ1xuICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICfmlK/ku5jnvZHlhbPpgIDmrL7orqLljZXmn6Xor6InLFxuICAgICAgICB1cmw6J2dhdGV3YXktcmVmdW5kLWxpc3QuaHRtbCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICfpgIDmrL7orqLljZXor6bmg4UnXG4gICAgICB9XG4gICAgXVxuICB9KTtcblxuICBXVUkuYWpheCh7XG4gICAgdXJsOiAnL2Ftcy92MS9wYXltZW50L3F1ZXJ5L3JlZnVuZE9yZGVyRGV0YWlsJyxcbiAgICBqc29uRGF0YToge1xuICAgICAgcmVmdW5kU2VxIDogV1VJLmxpbmsoKS5yZWZ1bmRTZXEsXG4gICAgICBvcmRlck51bTogV1VJLmxpbmsoKS5pZFxuICAgIH1cbiAgfSkuZG9uZShmdW5jdGlvbiAocmVzcCkge1xuICAgIHZhciB1c2VyID0gcmVzcC5kYXRhO1xuICAgIHZhciBlZGl0UmVzb3VyY2UgPSBXVUkuZ2V0UmVzb3VyY2UoJy9lZGl0Jyk7XG5cbiAgICBXVUkuSW5mb1RhYmxlLmNyZWF0ZSh7XG4gICAgICAkZWw6ICQoJy5pbmZvLXRhYmxlJyksXG4gICAgICBtZXRhOiBNRVRBLFxuICAgICAgZGF0YTogcmVzcC5yZWZ1bmRPcmRlckRldGFpbCxcbiAgICAgIGZpZWxkczogSU5GT19GSUVMRFNcbiAgICB9KTtcblxuICB9KTtcblxuICBxdWVyeURhdGEoe1xuICAgIGN1cnJlbnRQYWdlOiAwLFxuICAgIHBhZ2VTaXplOiAyMFxuICB9KTtcbn07XG4vLyBLZWVwIHRoaXMgZnVuY3Rpb25cbiQoZnVuY3Rpb24gKCkge1xuICBXVUkuaW5pdCh7XG4gICAgc3lzdGVtOiAnYW1zJ1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJmZmFuL2dhdGV3YXktcmVmdW5kLWRldGFpbC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n"],"sourceRoot":"/source/"}