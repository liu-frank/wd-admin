{"version":3,"sources":["ffan/allowance-list.js"],"names":["PAGE_SIZE","META","PWID","label","mobile","type","email","accountName","realNameLevel","AccountResource","accountStatus","openTime","status","options","value","TABLE_FIELDS","FILTER_FIELDS","editData","item","window","location","href","pwid","queryData","editResource","WUI","getResource","console","log","currentPage","pageSize","ajax","url","jsonData","then","resp","DataTable","create","$el","$","meta","fields","list","memberList","operations","name","resourceDisplayName","callback","ready","queryResource","ContentHeader","DataFilterEx","rightButton","param","extend","init","system"],"mappings":"AAAA,YAEA,IAAIA,WAAY,GACZC,MACFC,MAAQC,MAAO,QACfC,QAAUD,MAAO,OAAQE,KAAM,SAC/BC,OAASH,MAAO,QAASE,KAAM,SAC/BE,aAAeJ,MAAO,MACtBK,eAAiBL,MAAO,QACxBM,iBAAmBN,MAAO,QAC1BO,eACEP,MAAO,MAETQ,UACER,MAAO,QAETS,QACET,MAAO,KACPE,KAAM,SACNQ,UACEV,MAAO,KACPW,MAAO,MAITC,cAAgB,OAAQ,SAAU,QAAS,cAAe,gBAAiB,kBAAmB,gBAAiB,YAC/GC,eAAiB,UAEjBC,SAAW,SAAUC,GAEvBC,OAAOC,SAASC,KAAO,4BAA8BH,EAAKI,KAAK,UAAYJ,EAAKd,QAG9EmB,UAAY,SAAUV,GACxB,GAAIW,GAAeC,IAAIC,YAAY,UAEpCC,SAAQC,KACHC,YAAahB,EAAQgB,YACrBC,SAAUjB,EAAQiB,SAClB1B,OAAQS,EAAQT,SAGpBqB,IAAIM,MACFC,IAAK,wCACLC,UAGE7B,OAAQS,EAAQT,UAEjB8B,KAAK,SAAUC,GAChBV,IAAIW,UAAUC,QACZC,IAAKC,EAAE,eACPC,KAAMvC,KACNwC,OAAQ1B,aACR2B,KAAMP,EAAKQ,WACXC,aACEC,KAAMrB,GAAgBA,EAAasB,oBACnCC,SAAU9B,eAmBlBQ,KAAIuB,MAAQ,WACV,GAAIC,GAAgBxB,IAAIC,YAAY,SAClBD,KAAIC,YAAY,OAElCD,KAAIyB,cAAcb,QAChBC,IAAKC,EAAE,mBACPC,OACEK,KAAM,KACNb,IAAK,SAGHa,KAAM,UAGNA,KAAM,cAIZpB,IAAI0B,aAAad,QACfC,IAAKC,EAAE,gBACPC,KAAMvC,KACNwC,OAAQzB,cACRoC,aACEP,KAAMI,GAAiBA,EAAcH,qBAAuB,KAC5DC,SAAU,SAASM,GACjB9B,UAAUgB,EAAEe,OAAOD,GACjBxB,YAAa,EACbC,SAAU9B,kBAYpBuC,EAAE,WACAd,IAAI8B,MACFC,OAAQ","file":"ffan/allowance-list.js","sourcesContent":["'use strict';\n// Constants\nvar PAGE_SIZE = 20;\nvar META = {\n  PWID: { label: 'PWID'},\n  mobile: { label: '手机号码', type: 'phone'},\n  email: { label: 'Email', type: 'email' },\n  accountName: { label: '姓名' },\n  realNameLevel: { label: '实名等级' },\n  AccountResource: { label: '开户来源' },\n  accountStatus: {\n    label: '状态'\n  },\n  openTime: {\n    label: '开户时间'\n  },\n  status: {\n    label: '状态',\n    type: 'select',\n    options: [{\n      label: '正常',\n      value: 0\n    }]\n  }\n};\nvar TABLE_FIELDS = ['PWID', 'mobile', 'email', 'accountName', 'realNameLevel', 'AccountResource', 'accountStatus', 'openTime'];\nvar FILTER_FIELDS = ['mobile'];\n// Callback functions\nvar editData = function (item) {\n  // window.open('allowance-detail.html?id=' + item.id);\n  window.location.href = 'allowance-detail.html?id=' + item.pwid+'&phone=' + item.mobile;\n};\n\nvar queryData = function (options) {\n  var editResource = WUI.getResource('/detail');\n\n console.log( {\n      currentPage: options.currentPage,\n      pageSize: options.pageSize,\n      mobile: options.mobile\n    });\n\n  WUI.ajax({\n    url: '/ams/v1/pocketMoney/query/accountList',\n    jsonData: {\n      //pageNum: options.currentPage,\n      //pageSize: options.pageSize,\n      mobile: options.mobile\n    }\n  }).then(function (resp) {\n    WUI.DataTable.create({\n      $el: $('.data-table'),\n      meta: META,\n      fields: TABLE_FIELDS,\n      list: resp.memberList,\n      operations: [{\n        name: editResource && editResource.resourceDisplayName,\n        callback: editData\n      }]\n    });\n\n    //WUI.DataPaginator.create({\n    //  $el: $('.data-paginator'),\n    //  currentPage: options.currentPage,\n    //  total: resp.total,\n    //  pageSize: options.pageSize,\n    //  onSwitchPage: function (currentPage) {\n    //    queryData({\n    //      currentPage: currentPage,\n    //      pageSize: options.pageSize\n    //    });\n    //  }\n    //});\n  });\n};\n// Load Page\nWUI.ready = function () {\n  var queryResource = WUI.getResource('/query');\n  var addResource = WUI.getResource('/add');\n\n  WUI.ContentHeader.create({\n    $el: $('.content-header'),\n    meta: [{\n      name: '首页',\n      url: '/ams'\n    },\n      {\n        name: '飞凡通业务'\n      },\n      {\n        name: '飞凡通账户查询'\n      }]\n  });\n\n  WUI.DataFilterEx.create({\n    $el: $('.data-filter'),\n    meta: META,\n    fields: FILTER_FIELDS,\n    rightButton: {\n      name: queryResource && queryResource.resourceDisplayName || '查询',\n      callback: function(param) {\n        queryData($.extend(param, {\n          currentPage: 0,\n          pageSize: PAGE_SIZE\n        }));\n      }\n    }\n  });\n\n  //queryData({\n  //  currentPage: 0,\n  //  pageSize: 20\n  //});\n}\n  // Keep this function\n$(function () {\n  WUI.init({\n    system: 'ams'\n  });\n});\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmZmFuL2FsbG93YW5jZS1saXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIENvbnN0YW50c1xudmFyIFBBR0VfU0laRSA9IDIwO1xudmFyIE1FVEEgPSB7XG4gIFBXSUQ6IHsgbGFiZWw6ICdQV0lEJ30sXG4gIG1vYmlsZTogeyBsYWJlbDogJ+aJi+acuuWPt+eggScsIHR5cGU6ICdwaG9uZSd9LFxuICBlbWFpbDogeyBsYWJlbDogJ0VtYWlsJywgdHlwZTogJ2VtYWlsJyB9LFxuICBhY2NvdW50TmFtZTogeyBsYWJlbDogJ+Wnk+WQjScgfSxcbiAgcmVhbE5hbWVMZXZlbDogeyBsYWJlbDogJ+WunuWQjeetiee6pycgfSxcbiAgQWNjb3VudFJlc291cmNlOiB7IGxhYmVsOiAn5byA5oi35p2l5rqQJyB9LFxuICBhY2NvdW50U3RhdHVzOiB7XG4gICAgbGFiZWw6ICfnirbmgIEnXG4gIH0sXG4gIG9wZW5UaW1lOiB7XG4gICAgbGFiZWw6ICflvIDmiLfml7bpl7QnXG4gIH0sXG4gIHN0YXR1czoge1xuICAgIGxhYmVsOiAn54q25oCBJyxcbiAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICBvcHRpb25zOiBbe1xuICAgICAgbGFiZWw6ICfmraPluLgnLFxuICAgICAgdmFsdWU6IDBcbiAgICB9XVxuICB9XG59O1xudmFyIFRBQkxFX0ZJRUxEUyA9IFsnUFdJRCcsICdtb2JpbGUnLCAnZW1haWwnLCAnYWNjb3VudE5hbWUnLCAncmVhbE5hbWVMZXZlbCcsICdBY2NvdW50UmVzb3VyY2UnLCAnYWNjb3VudFN0YXR1cycsICdvcGVuVGltZSddO1xudmFyIEZJTFRFUl9GSUVMRFMgPSBbJ21vYmlsZSddO1xuLy8gQ2FsbGJhY2sgZnVuY3Rpb25zXG52YXIgZWRpdERhdGEgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAvLyB3aW5kb3cub3BlbignYWxsb3dhbmNlLWRldGFpbC5odG1sP2lkPScgKyBpdGVtLmlkKTtcbiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnYWxsb3dhbmNlLWRldGFpbC5odG1sP2lkPScgKyBpdGVtLnB3aWQrJyZwaG9uZT0nICsgaXRlbS5tb2JpbGU7XG59O1xuXG52YXIgcXVlcnlEYXRhID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgdmFyIGVkaXRSZXNvdXJjZSA9IFdVSS5nZXRSZXNvdXJjZSgnL2RldGFpbCcpO1xuXG4gY29uc29sZS5sb2coIHtcbiAgICAgIGN1cnJlbnRQYWdlOiBvcHRpb25zLmN1cnJlbnRQYWdlLFxuICAgICAgcGFnZVNpemU6IG9wdGlvbnMucGFnZVNpemUsXG4gICAgICBtb2JpbGU6IG9wdGlvbnMubW9iaWxlXG4gICAgfSk7XG5cbiAgV1VJLmFqYXgoe1xuICAgIHVybDogJy9hbXMvdjEvcG9ja2V0TW9uZXkvcXVlcnkvYWNjb3VudExpc3QnLFxuICAgIGpzb25EYXRhOiB7XG4gICAgICAvL3BhZ2VOdW06IG9wdGlvbnMuY3VycmVudFBhZ2UsXG4gICAgICAvL3BhZ2VTaXplOiBvcHRpb25zLnBhZ2VTaXplLFxuICAgICAgbW9iaWxlOiBvcHRpb25zLm1vYmlsZVxuICAgIH1cbiAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIFdVSS5EYXRhVGFibGUuY3JlYXRlKHtcbiAgICAgICRlbDogJCgnLmRhdGEtdGFibGUnKSxcbiAgICAgIG1ldGE6IE1FVEEsXG4gICAgICBmaWVsZHM6IFRBQkxFX0ZJRUxEUyxcbiAgICAgIGxpc3Q6IHJlc3AubWVtYmVyTGlzdCxcbiAgICAgIG9wZXJhdGlvbnM6IFt7XG4gICAgICAgIG5hbWU6IGVkaXRSZXNvdXJjZSAmJiBlZGl0UmVzb3VyY2UucmVzb3VyY2VEaXNwbGF5TmFtZSxcbiAgICAgICAgY2FsbGJhY2s6IGVkaXREYXRhXG4gICAgICB9XVxuICAgIH0pO1xuXG4gICAgLy9XVUkuRGF0YVBhZ2luYXRvci5jcmVhdGUoe1xuICAgIC8vICAkZWw6ICQoJy5kYXRhLXBhZ2luYXRvcicpLFxuICAgIC8vICBjdXJyZW50UGFnZTogb3B0aW9ucy5jdXJyZW50UGFnZSxcbiAgICAvLyAgdG90YWw6IHJlc3AudG90YWwsXG4gICAgLy8gIHBhZ2VTaXplOiBvcHRpb25zLnBhZ2VTaXplLFxuICAgIC8vICBvblN3aXRjaFBhZ2U6IGZ1bmN0aW9uIChjdXJyZW50UGFnZSkge1xuICAgIC8vICAgIHF1ZXJ5RGF0YSh7XG4gICAgLy8gICAgICBjdXJyZW50UGFnZTogY3VycmVudFBhZ2UsXG4gICAgLy8gICAgICBwYWdlU2l6ZTogb3B0aW9ucy5wYWdlU2l6ZVxuICAgIC8vICAgIH0pO1xuICAgIC8vICB9XG4gICAgLy99KTtcbiAgfSk7XG59O1xuLy8gTG9hZCBQYWdlXG5XVUkucmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBxdWVyeVJlc291cmNlID0gV1VJLmdldFJlc291cmNlKCcvcXVlcnknKTtcbiAgdmFyIGFkZFJlc291cmNlID0gV1VJLmdldFJlc291cmNlKCcvYWRkJyk7XG5cbiAgV1VJLkNvbnRlbnRIZWFkZXIuY3JlYXRlKHtcbiAgICAkZWw6ICQoJy5jb250ZW50LWhlYWRlcicpLFxuICAgIG1ldGE6IFt7XG4gICAgICBuYW1lOiAn6aaW6aG1JyxcbiAgICAgIHVybDogJy9hbXMnXG4gICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ+mjnuWHoemAmuS4muWKoSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICfpo57lh6HpgJrotKbmiLfmn6Xor6InXG4gICAgICB9XVxuICB9KTtcblxuICBXVUkuRGF0YUZpbHRlckV4LmNyZWF0ZSh7XG4gICAgJGVsOiAkKCcuZGF0YS1maWx0ZXInKSxcbiAgICBtZXRhOiBNRVRBLFxuICAgIGZpZWxkczogRklMVEVSX0ZJRUxEUyxcbiAgICByaWdodEJ1dHRvbjoge1xuICAgICAgbmFtZTogcXVlcnlSZXNvdXJjZSAmJiBxdWVyeVJlc291cmNlLnJlc291cmNlRGlzcGxheU5hbWUgfHwgJ+afpeivoicsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24ocGFyYW0pIHtcbiAgICAgICAgcXVlcnlEYXRhKCQuZXh0ZW5kKHBhcmFtLCB7XG4gICAgICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgICAgICAgcGFnZVNpemU6IFBBR0VfU0laRVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvL3F1ZXJ5RGF0YSh7XG4gIC8vICBjdXJyZW50UGFnZTogMCxcbiAgLy8gIHBhZ2VTaXplOiAyMFxuICAvL30pO1xufVxuICAvLyBLZWVwIHRoaXMgZnVuY3Rpb25cbiQoZnVuY3Rpb24gKCkge1xuICBXVUkuaW5pdCh7XG4gICAgc3lzdGVtOiAnYW1zJ1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJmZmFuL2FsbG93YW5jZS1saXN0LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=\n"],"sourceRoot":"/source/"}