var DOMAIN="",API={SMART_ROUT_INFO:DOMAIN+"/upp/web/v1/routes",SEARCH_SMART_ROUT:DOMAIN+"/upp/web/v1/feeRoute",SMART_ROUT:DOMAIN+"/upp/web/v1/route",STATIC_ROUT_INFO:DOMAIN+"/upp/web/v1/staticRoutes",STATIC_ROUT:DOMAIN+"/upp/web/v1/staticRoute",ALL_TYPE_INFO:DOMAIN+"/upp/web/v1/allCodetables",ROUT:DOMAIN+"/upp/web/v1/route",ACCOUNT_INFO:DOMAIN+"/upp/web/v1/accounts",CHANNEL_INFO:DOMAIN+"/upp/web/v1/channelAbilitys",CHANNEL_ITEM:DOMAIN+"/upp/web/v1/channelAbility",QUERY_INFO_CHANGE:DOMAIN+"/upp/web/v1/uppTodos",QUERY_ITEM_CHANNEL:DOMAIN+"/upp/web/v1/maintainDetail",QUERY_FEES_INFO:DOMAIN+"/upp/web/v1/channelFees",QUERY_FEE_ITEM:DOMAIN+"/upp/web/v1/channelFee",SAVE_CHANGE_INFO:DOMAIN+"/upp/web/v1/uppTodo"};API.DUMMY="",WUI.init=function(e){WUI.config=WUI.config||{},WUI.config.system=e.system,WUI.config.locale=e.locale||"zh-CN";var r=function(e){WUI.SiteHeader.create({$el:$(".main-header"),name:e.aasUserPrincipal.ssoUserName,roles:e.aasUserPrincipal.aasUserResources.roles[0].roleName,List:e.aasUserPrincipal.aasUserResources.resources})},s=function(e){for(var r=[],s=0;s<e.length;s++){var a=e[s];"menu"===a.resourceType&&("0"===a.isLeaf&&(a.linkUrl="javascript:void(0);",a.subs=[]),r.push(a))}return r},a=function(e,r){var s=null;if(e.parentLevelStructure)for(var a=0;a<r.length;a++)if(r[a].levelStructure===e.parentLevelStructure){s=r[a];break}return s},t=function(e){var r=[],t=!1,n=e.aasUserPrincipal.aasUserResources.resources,i=window.location.href.indexOf(WUI.config.system+"/home.html")>=0;if("order"===WUI.config.system){t=!0;for(var o=s(n),u=0;u<o.length;u++){var c=o[u],l=a(c,o);!i&&window.location.href.indexOf(c.linkUr)>=0&&(c.isActive=!0),l?l.subs.push(c):r.push(c)}}else for(var p=0;p<n.length;p++){var I=n[p];if(I.linkUrl&&I.linkUrl.indexOf("trade-monitor")>0&&(I.newPage=!0),"menu"===I.resourceType){var v=I.linkUrl,U=window.location.href;!i&&U.indexOf(v)>=0&&(I.isActive=!0);var f=I.levelStructure.split(".");if("0"===f[1]){I.subs=[];for(var N=0;N<n.length;N++){var A=n[N];"menu"===A.resourceType&&A.levelStructure.split(".")[0]===I.levelStructure.split(".")[0]&&"0"===A.levelStructure.split(".")[2]&&"0"!=A.levelStructure.split(".")[1]&&(A.subs=[],A.isLeaf=!0,I.subs.push(A))}r.push(I)}}}$(".main-sidebar").replaceWith(WUI.templates["site-menu"]({menus:r,isHome:i,multiMenus:t}))},n="",i=function(e){$(".main-footer").replaceWith(WUI.templates["site-footer"](e))};WUI.getResource=function(e,r){var s=r?r:window.location.pathname;e=s+e;for(var a=0;a<n.length;a++){var t=n[a].linkUrl;if(e==t)var i=n[a]}return i};var o=function(){var e,s="/"+WUI.config.system+"/web/v1/sso/getResources";"ams"===WUI.config.system?s="/ams/v1/sso/getResources":"order"===WUI.config.system&&(s="/app-coe-ordercenter/ordercenter/v1/sso/getResources"),WUI.ajax({url:s,method:"POST",data:e}).done(function(e){WUI.config.userName=e.aasUserPrincipal.ssoUserName,r(e),t(e),i(e),n=e.aasUserPrincipal.aasUserResources.resources,$.AdminLTE.init(),WUI.ready()})};o(e)},WUI.ready=WUI.ready||function(){console.error("WUI: Please provide WUI.ready function.")},WUI.typeItem=function(e,r){var s=[];return r.map(function(r){r.codeType==e&&s.push(r)}),s};
//# sourceMappingURL=common.js.map
